<html><body><div style="display: block;
            margin: 100px auto;
            padding: 30px;
            background: rgb(250, 250, 250);
            box-shadow: 0 6px 16px 0 rgba(0,0,0,.2);
            width: 90%;
            position: relative;
            transition: all 5s ease-in-out;"><div class="challenge-body-html"><div class="challenge_problem_statement"><div class="msB challenge_problem_statement_body"><div class="hackdown-content"><style id="MathJax_SVG_styles">.MathJax_SVG_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax_SVG .MJX-monospace {font-family: monospace}
.MathJax_SVG .MJX-sans-serif {font-family: sans-serif}
.MathJax_SVG {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax_SVG * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.mjx-svg-href {fill: blue; stroke: blue}
</style><svg style="display: none;"><defs id="MathJax_SVG_glyphs"></defs></svg><p>Shik loves sorted intervals. But currently he does not have enough time to sort all the numbers. So he decided to use <em>Almost sorted intervals</em>. An <em>Almost sorted interval</em> is a consecutive subsequence in a sequence which satisfies the following property:</p>

<ol><li>The first number is the smallest.</li>
<li>The last number is the largest.</li>
</ol><p>Please help him count the number of almost sorted intervals in this permutation.  </p>

<p><em>Note:</em> Two intervals are different if at least one of the starting or ending indices are different.</p>

<p><strong>Input Format</strong> <br>
The first line contains an integer N. <br>
The second line contains a permutation from 1 to N.</p>

<p><strong>Output Format</strong> <br>
Output the number of almost sorted intervals.  </p>

<p><strong>Constraints</strong> <br>
1 &le; N &le; 10<sup>6</sup></p>

<p><strong>Sample Input</strong>  </p>

<pre><code>5
3 1 2 5 4
</code></pre>

<p><strong>Sample Output</strong>  </p>

<pre><code>8
</code></pre>

<p><strong>Explanation</strong> <br>
The subsequences [3], [1], [1 2], [1 2 5], [2], [2 5], [5], [4] are almost sorted intervals.</p></div></div></div></div></div></body></html>